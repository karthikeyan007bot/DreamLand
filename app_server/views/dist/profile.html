<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="/stylesheets/profile.css">
    <script src="/javascripts/profile.js"></script>
    <script src="https://jsuites.net/v4/jsuites.js"></script>
    <link rel="stylesheet" href="https://jsuites.net/v4/jsuites.css" type="text/css">
    <script src="https://cdn.jsdelivr.net/npm/@jsuites/cropper/cropper.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@jsuites/cropper/cropper.min.css" type="text/css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="/javascripts/usrDefined.js">  </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100..900&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/home.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"> </script>
    <link rel="stylesheet" href="/stylesheets/layout.css">
    <link rel="stylesheet" href="/stylesheets/dreampost.css">
    <link rel="stylesheet" href="http://bootstrap-tagsinput.github.io/bootstrap-tagsinput/dist/bootstrap-tagsinput.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.3/jquery.mCustomScrollbar.concat.min.js">   </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.min.js" integrity="sha512-rMGGF4wg1R73ehtnxXBt5mbUfN9JUJwbk21KMlnLZDJh7BkPmeovBuddZCENJddHYYMkCh9hPFnPmS9sspki8g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://harvesthq.github.io/chosen/chosen.css">
  </head>
  <body>
    <div class="main-container"> 
      <div class="sidenav lapdisp vstack">
        <div class="navoptions vstack"><a href="#"> <i class="fa-solid fa-moon" style="color : #2c4df0;font-size: 50px">            </i></a><a class="btn" href="/"> <i class="fa-solid fa-house"></i><span>Home </span></a><a class="btn" href="/find"> <i class="fa-solid fa-magnifying-glass"></i><span>Find </span></a><a class="btn" href="#"> <i class="fa-solid fa-image-portrait"></i><span>Story      </span></a>
          <button class="btn" type="button" onclick="logOut()"><i class="fa-solid fa-arrow-right-from-bracket"></i><span>Log out                      </span></button>
        </div>
        <div class="floating-container">
          <div class="fantom-action-btn"><span>Fantasize</span>
            <nav><a tabindex="0" data-bs-toggle="modal" data-bs-target="#fantamodal1"><i class="fa-solid fa-feather"></i></a><a href="/post"><i class="fa-solid fa-feather-pointed">   </i></a></nav>
          </div>
        </div>
      </div>
      <div class="modal fade" id="fantamodal1" data-bs-backdrop="static" tabindex="-1" aria-labelledby="fantamodalLabel1" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen-sm-down">
          <div class="modal-content">
            <div class="modal-header">
              <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form action="/postfmini" method="post" encType="multipart/form-data"> <img class="avator float-start" src="https://pbs.twimg.com/profile_images/1543523698862239744/FeJy-3sl_400x400.jpg" alt="">
                <textarea class="mt-2" id="fantatxtarea" placeholder=" Your Fantasy !" cols="40" oninput="showlimit()" name="fmtext"></textarea>
                <div class="media-attached-fantamini" style="position: relative"> <img src="" alt="" id="frontimg"><i class="fa-solid fa-xmark" type="button" style="position: absolute; top:5px;right:5px;color:white" onclick="closmedia()"></i></div><span class="fmmood">Karthi's <span id="fmmood"> </span> fantom  </span>
                <hr>
                <div id="minpntclpx"> 
                  <div class="fanta-options d-flex"> 
                    <label class="mx-1" for="fileinp"> <span class="material-symbols-outlined">add_photo_alternate</span>
                      <input class="d-none" id="fileinp" name="fantaimage" type="file" onchange="readURL(this,'fileinp')">
                    </label><a class="mx-1" href="#" data-bs-toggle="collapse" data-bs-target="#fanta-post-gif" aria-expanded="false" aria-controls="fanta-post-options"><span class="material-symbols-outlined">gif_box</span></a><a class="mx-1" href="#" data-bs-toggle="collapse" data-bs-target="#fanta-post-options" aria-expanded="false" aria-controls="fanta-post-options"><span class="material-symbols-outlined">tune</span></a><a class="mx-1" href="#" data-bs-toggle="collapse" data-bs-target="#fanta-post-mood" aria-expanded="false" aria-controls="fanta-post-mood"><span class="material-symbols-outlined">mood</span></a><a class="mx-1" href="#" data-bs-toggle="collapse" data-bs-target="#fanta-post-catagory" aria-expanded="false" aria-controls="fanta-post-catagory"><span class="material-symbols-outlined">label                                              </span></a>
                    <div class="counter mx-1"></div>
                  </div><span class="counter ms-auto d-block"> </span>
                  <div class="collapse" id="fanta-post-gif" data-bs-parent="#minpntclpx">
                    <div class="card card-body">
                      <input class="form-control" id="gfsrch" type="search" name="gfsrch" placeholder="Search Tenor" onkeyup="suggest(this)">
                      <div id="tenor-suggestion">
                        <div class="no-scrollbar" style="max-width : 100%;overflow-x: scroll;padding:20px">
                          <div style="width:2000px">
                            <div class="radios">
                              <label for="a1">
                                <input id="a1" type="radio" name="tenor-suggestion" checked=""><span class="tnr-sugsns">                                       </span>
                              </label>
                              <label for="b2">
                                <input id="b2" type="radio" name="tenor-suggestion"><span class="tnr-sugsns">                                      </span>
                              </label>
                              <label for="c3">
                                <input id="c3" type="radio" name="tenor-suggestion"><span class="tnr-sugsns">                                                                                                                                                                        </span>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="no-scrollbar" id="gif-preview-container"></div>
                      <button class="btn ibtn" id="load-gif" type="button" style="display:none">Load more</button>
                    </div>
                  </div>
                  <div class="collapse" id="fanta-post-options" data-bs-parent="#minpntclpx">
                    <div class="card card-body text-center">
                      <lead>Who can see ?</lead>
                      <div class="scrollbox overflow-scroll">         
                        <div class="grid" style="width : 1000px">
                          <div class="hstack">                           
                            <label class="card radio-cards my-1">
                              <input class="radio" name="mode" value="public" type="radio" checked=""><span class="plan-details"><i class="fa-solid fa-users"> </i>Anyone</span>
                            </label>
                            <label class="card radio-cards my-1">
                              <input class="radio" name="mode" value="friends" type="radio"><span class="plan-details"><i class="fa-solid fa-user-group"></i>  Friends                        </span>
                            </label>
                            <label class="card radio-cards my-1">
                              <input class="radio" name="mode" value="private" type="radio"><span class="plan-details"><i class="fa-solid fa-user-lock">  </i>Only me                              </span>
                            </label>
                          </div>
                        </div>
                      </div><br>
                      <lead>Post as  </lead>
                      <div class="scrollbox overflow-scroll">         
                        <div class="grid" style="width : 1000px">
                          <div class="hstack">                                         
                            <label class="card radio-cards my-1">
                              <input class="radio" name="mode1" value="karthik" type="radio" checked=""><span class="plan-details"><i class="fa-solid fa-user-check"></i>Karthikeyan</span>
                            </label>
                            <label class="card radio-cards my-1">
                              <input class="radio" name="mode1" value="anonymous" type="radio"><span class="plan-details"><i class="fa-solid fa-user-secret"> </i>Anonymous                                 </span>
                            </label>
                          </div>
                        </div>
                      </div><br>
                      <lead>Tags  </lead>
                      <input class="mt-3" value="" type="text" id="tags" data-role="tagsinput">
                    </div>
                  </div>
                  <div class="collapse" id="fanta-post-mood" data-bs-parent="#minpntclpx">
                    <div class="no-scrollbar" style="max-width : 100%;overflow-x: scroll;padding:20px">
                      <div style="width:2000px">
                        <div class="radios" id="fmmoodradio">
                          <label for="happy">
                            <input id="happy" type="radio" name="mood" value="happy" checked=""><span>üòÉ Happy   </span>
                          </label>
                          <label for="romantic">
                            <input id="romantic" type="radio" name="mood" value="romantic"><span>üòÉ Romantic                               </span>
                          </label>
                          <label for="lovely">
                            <input id="lovely" type="radio" name="mood" value="lovely"><span>üòÉ   Lovely</span>
                          </label>
                          <label for="adventurous">
                            <input id="adventurous" type="radio" name="mood" value="adventurous"><span>üòÉ   Adventurous                                       </span>
                          </label>
                          <label for="fantastic">
                            <input id="fantastic" type="radio" name="mood" value="fantastic"><span>üòÉ  Fantastic</span>
                          </label>
                          <label for="Fabulous">
                            <input id="Fabulous" type="radio" name="mood" value="Fabulous"><span>üòÉ Fabulous</span>
                          </label>
                          <label for="good">
                            <input id="good" type="radio" name="mood" value="good"><span>ü§ó    Good                             </span>
                          </label>
                          <label for="blessed">
                            <input id="blessed" type="radio" name="mood" value="blessed"><span>üòÅ   Blessed                            </span>
                          </label>
                          <label for="beautiful">
                            <input id="beautiful" type="radio" name="mood" value="beautiful"><span>üòÄ Beautiful                       </span>
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="collapse" id="fanta-post-catagory" data-bs-parent="#minpntclpx">               
                    <div class="scrollbox overflow-scroll">         
                      <div class="grid" style="width : 3000px">
                        <div class="hstack">
                          <label class="card radio-cards">
                            <input class="radio" name="fmini-catagory" value="whatIf" type="radio" checked=""><span class="plan-details">
                              <h5>What if</h5></span>
                          </label>
                          <label class="card radio-cards">
                            <input class="radio" name="fmini-catagory" value="Its me" type="radio"><span class="plan-details">
                              <h5>Its me</h5></span>
                          </label>
                          <label class="card radio-cards">
                            <input class="radio" name="fmini-catagory" value="Two of us" type="radio"><span class="plan-details">
                              <h5>Two of us</h5></span>
                          </label>
                          <label class="card radio-cards">
                            <input class="radio" name="fmini-catagory" value="howItShould" type="radio"><span class="plan-details">
                              <h5>How It Should</h5></span>
                          </label>
                          <label class="card radio-cards">
                            <input class="radio" name="fmini-catagory" value="Day Dream" type="radio"><span class="plan-details">
                              <h5>Day Dream</h5></span>
                          </label>
                          <label class="card radio-cards">
                            <input class="radio" name="fmini-catagory" value="Dream" type="radio"><span class="plan-details">
                              <h5>Dream             </h5></span>
                          </label>
                          <label class="card radio-cards">
                            <input class="radio" name="fmini-catagory" value="Just a moment" type="radio"><span class="plan-details">
                              <h5>Just a moment                                                                                                                                    </h5></span>
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <button class="btn btn-light" id="postfmini" type="button">
                   Post <i class="fa-solid fa-spinner fa-spin-pulse" id="post-spinner" style="display : none"></i></button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div class="toast-container position-fixed top-2 end-2 p-3">      
        <div class="toast align-items-center" id="mnstost" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="d-flex">
            <div class="toast-body">
              Media not supported. 
              Only image and video can be uploaded.
            </div>
            <button class="btn-close me-2 m-auto" type="button" data-bs-dismiss="toast" aria-label="Close"></button>
          </div>
        </div>
      </div>
      <div class="profile"> 
        <div class="profile-header">
          <div class="header-img" data-bs-toggle="modal" data-bs-target="#edthdrimg" style="background: crimson"></div>
          <div class="modal fade" id="edthdrimg" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <form class="modal-dialog modal-lg modal-fullscreen-sm-down" action="/hdrimg" method="post" enctype="multipart/form-data" id="myForm">
              <div class="modal-content">
                <div class="modal-header">
                  <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div>
                    <div id="image-cropper" style="border:3px solid #2342de; margin: 5px;border-radius : 8px"></div><br>
                    <div id="image-cropper-result"><img style=" margin: 5px;" id="hdrimg"></div>
                  </div>
                  <p>
                    <input class="jbutton dark btn ibtn" id="image-getter" type="button" value="Preview">
                    <input class="btn ibtn ms-3" id="savehdrimg" type="button" value="save">
                  </p>
                </div>
              </div>
            </form>
          </div>
          <div class="profile-img" data-bs-toggle="modal" data-bs-target="#edtprflimg" style="background: #c631c6; min-width : 120px;min-height:120px "></div>
          <div class="modal fade" id="edtprflimg" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg modal-fullscreen-sm-down">
              <div class="modal-content">
                <div class="modal-header">
                  <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div>
                    <div class="m-auto" id="image-cropper2" style="border:3px solid #2342de; margin: 5px;border-radius : 8px"></div><br>
                    <div id="image-cropper2-result"><img style=" margin: 5px;"></div>
                  </div>
                  <p>
                    <input class="jbutton dark btn ibtn" id="image-getter2" type="button" value="Preview">
                    <button class="btn ibtn ms-3" id="saveprflimg">Save</button>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <btn class="btn btn-light edit" type="button" data-bs-toggle="modal" data-bs-target="#editprofile"> <i class="fa-solid fa-user-pen"></i></btn>
          <div class="modal fade" id="editprofile" tabindex="-1" aria-labelledby="editprofileLabel" aria-hidden="true" role="dialog">
            <form class="modal-dialog modal-fullscreen-sm-down" method="post">
              <div class="modal-content">
                <div class="modal-header">
                  <h6>Edit Profile</h6>
                  <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"> </button>
                </div>
                <div class="modal-body">                          
                  <div class="form-floating mb-3">
                    <input class="form-control form-control-sm mb-3" id="edtnm" type="text" placeholder="Name" name="name">
                    <label for="edtnm">Name</label>
                  </div>
                  <div class="form-floating mb-3">
                    <textarea class="form-control form-control-sm" id="edtabt" placeholder="About" name="about"></textarea>
                    <label for="edtabt">About   </label>
                  </div>
                  <div class="input-group mb-3"><span class="input-group-text"> <i class="fa-brands fa-facebook"></i></span>
                    <div class="form-floating">
                      <input class="form-control form-control-sm" id="floatingInputGroup1" type="text" placeholder="facebook-username" name="fbusrname">
                      <label for="floatingInputGroup1">Facebook userame                  </label>
                    </div>
                  </div>
                  <div class="row">
                    <h6>Birth date </h6>
                    <div class="col-12 col-lg-4">
                      <select class="form-select form-select-sm mb-3" name="bddate">
                        <option selected="" value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option value="29">29</option>
                        <option value="30">30</option>
                        <option value="31">31</option>
                      </select>
                    </div>
                    <div class="col-12 col-lg-4">
                      <select class="form-select form-select-sm mb-3" name="bdmonth">
                        <option selected="">Month</option>
                        <option value="Jan">Jan</option>
                        <option value="Feb">Feb</option>
                        <option value="March">March</option>
                        <option value="April">April</option>
                        <option value="May">May</option>
                        <option value="June">June</option>
                        <option value="July">July</option>
                        <option value="Aug">Aug</option>
                        <option value="Sept">Sept</option>
                        <option value="Oct">Oct</option>
                        <option value="Nov">Nov</option>
                        <option value="Dec">Dec</option>
                      </select>
                    </div>
                    <div class="col-12 col-lg-4">
                      <select class="form-select form-select-sm mb-3" name="bdyear">
                        <option selected="">Year</option>
                        <option value="2012">2012</option>
                        <option value="2011">2011</option>
                        <option value="2010">2010   </option>
                        <option value="2009">2009  </option>
                        <option value="2008">2008   </option>
                        <option value="2007">2007 </option>
                        <option value="2006">2006  </option>
                        <option value="2005">2005  </option>
                        <option value="2004">2004  </option>
                        <option value="2003">2003  </option>
                        <option value="2002">2002  </option>
                        <option value="2001">2001  </option>
                        <option value="2000">2000  </option>
                        <option value="1999">1999  </option>
                        <option value="1998">1998  </option>
                        <option value="1997">1997  </option>
                        <option value="1996">1996  </option>
                        <option value="1995">1995  </option>
                        <option value="1994">1994  </option>
                        <option value="1993">1993  </option>
                        <option value="1992">1992  </option>
                        <option value="1991">1991  </option>
                        <option value="1990">1990  </option>
                        <option value="1989">1989  </option>
                        <option value="1988">1988  </option>
                        <option value="1987">1987  </option>
                        <option value="1986">1986  </option>
                        <option value="1985">1985  </option>
                        <option value="1984">1984  </option>
                        <option value="1983">1983  </option>
                        <option value="1982">1982  </option>
                        <option value="1981">1981  </option>
                        <option value="1980">1980  </option>
                        <option value="1979">1979  </option>
                        <option value="1978">1978  </option>
                        <option value="1977">1977  </option>
                        <option value="1976">1976  </option>
                        <option value="1975">1975  </option>
                        <option value="1974">1974  </option>
                        <option value="1973">1973  </option>
                        <option value="1972">1972  </option>
                        <option value="1971">1971  </option>
                        <option value="1970">1970  </option>
                        <option value="1969">1969  </option>
                        <option value="1968">1968  </option>
                        <option value="1967">1967  </option>
                        <option value="1966">1966  </option>
                        <option value="1965">1965  </option>
                        <option value="1964">1964  </option>
                        <option value="1963">1963  </option>
                        <option value="1962">1962  </option>
                        <option value="1961">1961  </option>
                        <option value="1960">1960 </option>
                      </select>
                    </div>
                  </div>
                  <h6 class="mb-2">Who can see your birth day</h6>
                  <select class="form-select form-select-sm mb-3" name="whocanseebd">
                    <option selected="" value="onlyme">Only me</option>
                    <option value="followers">Followers</option>
                    <option value="everyone">Everyone</option>
                  </select>
                  <h6>Gender    </h6>
                  <div class="radiowrapper">
                    <input id="option-1" type="radio" name="gender" checked="" value="Female">
                    <input id="option-2" type="radio" name="gender" value="Male">
                    <label class="option option-1" for="option-1">
                      <div class="dot"></div><span>She</span>
                    </label>
                    <label class="option option-2" for="option-2">
                      <div class="dot"></div><span>He</span>
                    </label>
                  </div>
                </div>
                <div class="modal-footer">
                  <button class="btn btn-light" type="Submit">Save </button>
                </div>
              </div>
            </form>
          </div>
        </div><br>
        <div class="profile-info text-start ps-2 mt-3"> 
          <div class="usrname"></div>
          <div class="userid">@undefined</div><br>
          <div class="about">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ut reprehenderit officia rerum cum minus illo incidunt necessitatibus exercitationem sunt rem repellat sed dolorem, maiores consequatur odit culpa tenetur ex vel.</div>
          <div class="joind"> <span class="material-symbols-outlined">today</span>Joined July 2020</div>
          <div class="d-flex"> 
            <div class="following">12 following</div>
            <div class="followers ms-3">12M followers   </div>
          </div>
          <ul class="nav nav-pills mb-3 mt-3 profile-tab" id="pills-tab" role="tablist">
            <div class="scrollbox overflow-scroll">
              <div class="hstack">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="pills-Stories-tab" data-bs-toggle="pill" data-bs-target="#pills-Stories" type="button" role="tab" aria-controls="pills-Stories" aria-selected="true" onclick="fetchFms()">Fantoms</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="pills-article-tab" data-bs-toggle="pill" data-bs-target="#pills-article" type="button" role="tab" aria-controls="pills-article" aria-selected="false" onclick="fetchFminis()">Fantom minis</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="pills-comic-tab" data-bs-toggle="pill" data-bs-target="#pills-comic" type="button" role="tab" aria-controls="pills-comic" aria-selected="false" onclick="fetchAnx()">Annexes</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="pills-thread-tab" data-bs-toggle="pill" data-bs-target="#pills-thread" type="button" role="tab" aria-controls="pills-thread" aria-selected="false" onclick="fetchAltr()">Alter</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="pills-answers-tab" data-bs-toggle="pill" data-bs-target="#pills-answers" type="button" role="tab" aria-controls="pills-answers" aria-selected="false" onclick="fetchReacts()">Reactions </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="pills-replies-tab" data-bs-toggle="pill" data-bs-target="#pills-replies" type="button" role="tab" aria-controls="pills-replies" aria-selected="false" onclick="fetchReplies()">Replies            </button>
                </li>
              </div>
            </div>
          </ul>
          <div class="tab-content" id="pills-tabContent"></div>
          <div class="tab-pane fade show active" id="pills-Stories" role="tabpanel" aria-labelledby="pills-Stories-tab" tabindex="0"> 
            <ul class="list-group list-group-flush dreams-post">
              <li class="list-group-item">
                <div class="dream-wrap">
                  <div class="dream-header"><img class="avator" src="https://pbs.twimg.com/profile_images/1012717264108318722/9lP-d2yM_400x400.jpg" alt="">
                    <div class="dream-header-info">Karthikeyan<span class="usrid">@SureshKarthik</span><span>. Jun 27</span><a class="options float-end" tabindex="0" data-bs-toggle="popover" data-bs-html="true" data-bs-trigger="focus" data-bs-content="&lt;div class=&quot;list-group list-group-flush&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;list-group-item list-group-item-action &quot; aria-current=&quot;true&quot;&gt; The current link item&lt;/a&gt;&lt;a href=&quot;#&quot; class=&quot;list-group-item list-group-item-action&quot;&gt;A second link item&lt;/a&gt;&lt;a href=&quot;#&quot; class=&quot;list-group-item list-group-item-action&quot;&gt;A third link item&lt;/a&gt;&lt;a href=&quot;#&quot; class=&quot;list-group-item list-group-item-action&quot;&gt;A fourth link item&lt;/a&gt;&lt;a class=&quot;list-group-item list-group-item-action &quot;&gt;A disabled link item&lt;/a&gt;&lt;/div&gt; "> 
                        <div class="material-symbols-outlined">more_horiz                        </div></a>
                      <h6 class="mt-3">Dragon over the ocean on night sky.</h6>
                      <p>&#x1F525; If you&apos;re tired of using outline styles for secondary buttons, a soft solid background based on the text color can be a great alternative.</p>
                    </div>
                  </div>
                  <div class="dream-img-wrap"><img class="dream-img" src="https://w0.peakpx.com/wallpaper/970/985/HD-wallpaper-stormy-attack-waves-sky-dragon-storm-wall-stormy-sea-fire-fantasy-ship-mountains-digital-attack-night.jpg" alt="" data-bs-toggle="modal" data-bs-target="#exampleModal">
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-fullscreen">
                        <div class="modal-content">
                          <div class="modal-header">
                            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body text-center vstack"><img class="modal-img mx-auto" src="https://w0.peakpx.com/wallpaper/970/985/HD-wallpaper-stormy-attack-waves-sky-dragon-storm-wall-stormy-sea-fire-fantasy-ship-mountains-digital-attack-night.jpg" alt="">
                            <div class="modal-dream-info-counts">
                              <div class="comments"><span class="material-symbols-outlined">chat_bubble </span><span>  33</span></div>
                              <div class="likes"><span class="material-symbols-outlined">favorite</span><span>  2.6k</span></div>
                              <div class="bookmark"><span class="material-symbols-outlined">bookmark </span></div>
                              <div class="share"><span class="material-symbols-outlined">share                         </span></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="dream-info-counts">
                    <div class="comments"><span class="material-symbols-outlined">chat_bubble </span><span>  33</span></div>
                    <div class="likes"><span class="material-symbols-outlined">favorite</span><span>  2.6k</span></div>
                    <div class="bookmark"><span class="material-symbols-outlined">bookmark </span></div>
                    <div class="share"><span class="material-symbols-outlined">share                        </span></div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
          <div class="tab-pane fade pd" id="pills-article" role="tabpanel" aria-labelledby="pills-article-tab" tabindex="0">
                                         Article               </div>
          <div class="tab-pane fade" id="pills-comic" role="tabpanel" aria-labelledby="pills-comic-tab" tabindex="0">
             Comic</div>
          <div class="tab-pane fade" id="pills-thread" role="tabpanel" aria-labelledby="pills-thread-tab" tabindex="0"> 
            <div class="imgedt">
                  Threads            </div>
          </div>
          <div class="tab-pane fade" id="pills-answers" role="tabpanel" aria-labelledby="pills-answers-tab" tabindex="0">
             asked July at 12:33 </div>
          <div class="tab-pane fade" id="pills-replies" role="tabpanel" aria-labelledby="pills-replies-tab" tabindex="0">
             asked July at 12:33          </div>
        </div>
      </div>
    </div>
    <div class="btm-nav">
      <div class="wrapper1">
        <div class="navbar"><i class="fas fa-home icon-home"></i><i class="fa-solid fa-magnifying-glass"></i><i class="fa-solid fa-image-portrait"></i><i class="fas fa-cog icon-settings"></i>
          <div class="pcircle"><i class="fas fa-plus plus-icon"></i><i class="fa-solid fa-feather social" data-bs-toggle="modal" data-bs-target="#fantamodal1" role="dialog"></i><a class="fa-solid fa-feather-pointed social" href="/post"></a></div>
          <div class="circleBackground"> 
            <div class="modal-footer"></div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
          var refresh_token = '1//04B7CC8js9zlXCgYIARAAGAQSNwF-L9IrZ_HLBxgKHzRaSGUbyyQgaYlJbuxL8KReeXhaMhVDueYvMDcvA5--LRAg4DN24ymDA90'
      
           function myFunction(x) {
               if (x.matches) { // If media query matches
        cropper(document.getElementById('image-cropper'), {
            area: [ 500, 200 ],
            crop: [ 300, 100 ],
            allowResize : false
         })
          //- const canvas = document.getElementsByTagName('canvas')[0];
          //- const ctx = canvas.getContext("2d", { willReadFrequently: true });
          document.getElementById('savehdrimg').onclick = function(){
                const t = document.getElementById('image-cropper').crop.getCroppedAsBlob(
      
             async function fu(r){
           let tokenRequest = await axios.request({
      method: 'post',
      url: "https://oauth2.googleapis.com/token",
      headers: {"content-type": "application/x-www-form-urlencoded"},
      params: {
      client_id: '107645595769-al5lco2dmqo4k8da50skhh04v3reub4r.apps.googleusercontent.com',
      client_secret: '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',
      refresh_token: refresh_token,
      grant_type: "refresh_token"
          } 
        }).catch(e => console.log(e))
           let accessToken = tokenRequest.data["access_token"];
            console.log('Access token : ' +   accessToken )
      
           var metadata = {
            'name': 'sampleName', // Filename at Google Drive
            'mimeType': 'image/png', // mimeType at Google Drive
              };
          // var accessToken = gapi.auth.getToken().access_token; // Here gapi is used for retrieving the access token.
         var form = new FormData();
         form.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));
         form.append('file', r);
      
         fetch('https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id', {
        method: 'POST',
        headers: new Headers({ 'Authorization': 'Bearer ' + accessToken }),
        body: form,
          }).then((res) => {
        return res.json();
          }).then(async function(val) {
            var data = {
              id : val.id
            }
              await fetch('http://localhost:3000/hdrimg', {
              method: 'POST',
              headers: {
                     "Content-Type": "application/json",
                  },
              body:  JSON.stringify(data)
                }).then(()=>window.location.href = 'http://localhost:3000/profile')
         });
          }
                )
          }
                 document.getElementById('image-getter').onclick = function() {
               document.getElementById('image-cropper-result').children[0].src =
                document.getElementById('image-cropper').crop.getCroppedImage().src;
      
                     }
      
           } else {
        cropper(document.getElementById('image-cropper'), {
            area: [ 320, 100 ],
         })
                 document.getElementById('image-getter').onclick = function() {
               document.getElementById('image-cropper-result').children[0].src =
                document.getElementById('image-cropper').crop.getCroppedImage().src;
           }
          document.getElementById('savehdrimg').onclick = function(){
                const t = document.getElementById('image-cropper').crop.getCroppedAsBlob(
      
             async function fu(r){
           let tokenRequest = await axios.request({
      method: 'post',
      url: "https://oauth2.googleapis.com/token",
      headers: {"content-type": "application/x-www-form-urlencoded"},
      params: {
      client_id: '107645595769-al5lco2dmqo4k8da50skhh04v3reub4r.apps.googleusercontent.com',
      client_secret: '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',
      refresh_token: refresh_token,
      grant_type: "refresh_token"
          } 
        }).catch(e => console.log(e))
           let accessToken = tokenRequest.data["access_token"];
            console.log('Access token : ' +   accessToken )
      
           var metadata = {
            'name': 'sampleName', // Filename at Google Drive
            'mimeType': 'image/png', // mimeType at Google Drive
              };
          // var accessToken = gapi.auth.getToken().access_token; // Here gapi is used for retrieving the access token.
         var form = new FormData();
         form.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));
         form.append('file', r);
      
         fetch('https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id', {
        method: 'POST',
        headers: new Headers({ 'Authorization': 'Bearer ' + accessToken }),
        body: form,
          }).then((res) => {
        return res.json();
          }).then(async function(val) {
            var data = {
              id : val.id
            }
              await fetch('http://localhost:3000/hdrimg', {
              method: 'POST',
              headers: {
                     "Content-Type": "application/json",
                  },
              body:  JSON.stringify(data)
                }).then(()=>window.location.href = 'http://localhost:3000/profile')
         });
          }
                )
          }
        } 
       }
      
       var x = window.matchMedia("(min-width: 992px)")
      myFunction(x) // Call listener function at run time
        x.addListener(myFunction) // Attach listener function on state changes
      
        
        cropper(document.getElementById('image-cropper2'), {
            area: [ 200, 200 ],
            crop: [ 150, 150 ],
            allowResize : false
         })
                 document.getElementById('image-getter2').onclick = function() {
               document.getElementById('image-cropper2-result').children[0].src =document.getElementById('image-cropper2').crop.getCroppedImage().src;
           }
          document.getElementById('saveprflimg').onclick = function(){
                const t = document.getElementById('image-cropper2').crop.getCroppedAsBlob(
      
             async function fu(r){
           let tokenRequest = await axios.request({
      method: 'post',
      url: "https://oauth2.googleapis.com/token",
      headers: {"content-type": "application/x-www-form-urlencoded"},
      params: {
      client_id: '107645595769-al5lco2dmqo4k8da50skhh04v3reub4r.apps.googleusercontent.com',
      client_secret: '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',
      refresh_token: refresh_token,
      grant_type: "refresh_token"
          } 
        }).catch(e => console.log(e))
           let accessToken = tokenRequest.data["access_token"];
            console.log('Access token : ' +   accessToken )
      
           var metadata = {
            'name': 'sampleName', // Filename at Google Drive
            'mimeType': 'image/png', // mimeType at Google Drive
              };
          // var accessToken = gapi.auth.getToken().access_token; // Here gapi is used for retrieving the access token.
         var form = new FormData();
         form.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));
         form.append('file', r);
      
         fetch('https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id', {
        method: 'POST',
        headers: new Headers({ 'Authorization': 'Bearer ' + accessToken }),
        body: form,
          }).then((res) => {
        return res.json();
          }).then(async function(val) {
            var data = {
              id : val.id
            }
              await fetch('http://localhost:3000/prflimg', {
              method: 'POST',
              headers: {
                     "Content-Type": "application/json",
                  },
              body:  JSON.stringify(data)
                }).then(()=>window.location.href = 'http://localhost:3000/profile')
         });
          }
                )
          }
       async function fetchFms(){
        var decoded = parseJwt(getCookie('indigotoken'))
        usrRefId = decoded._id
         await fetch(`/api/fantoms/detail/${usrRefId}`).then(res => res.json()).then(data =>console.log(data))
       }
        async function fetchFminis(){
        var decoded = parseJwt(getCookie('indigotoken'))
        usrRefId = decoded._id
         await fetch(`/api/fminis/detail/${usrRefId}`).then(res => res.json()).then(data =>console.log(data))
       }
        async function fetchReplies(){
        var decoded = parseJwt(getCookie('indigotoken'))
        usrRefId = decoded._id
         await fetch(`/api/replies/${usrRefId}`).then(res => res.json()).then(data =>console.log(data))
       }
        async function fetchAnx(){
        var decoded = parseJwt(getCookie('indigotoken'))
        usrRefId = decoded._id
         await fetch(`/api/annexes/${usrRefId}`).then(res => res.json()).then(data =>console.log(data))
       }
      
       async function fetchAltr(){
        var decoded = parseJwt(getCookie('indigotoken'))
        usrRefId = decoded._id
         await fetch(`/api/alters/${usrRefId}`).then(res => res.json()).then(data =>console.log(data))
       }
                
    </script>
    <script src="/javascripts/layout.js">  </script>
    <script src="http://bootstrap-tagsinput.github.io/bootstrap-tagsinput/dist/bootstrap-tagsinput.min.js"></script>
    <script src="https://kit.fontawesome.com/04a1228d4b.js" crossorigin="anonymous"></script>
    <script src="/javascripts/home.js">  </script>
    <script>
       function setmood(){  
       document.querySelectorAll('input[name="mood"]').forEach((elem) => {
       elem.addEventListener("change", function(event) {
        var item = event.target.value;
        document.getElementById('fmmood').innerText = item
        });
         });}             
          setmood()
          setreplygifsearch()
         setgifsearch()
         setannexgifsearch()
         setaltergifsearch()
       // expandable textarea 
       var tx = document.getElementsByTagName('textarea');
       for (var i = 0; i < tx.length; i++) {
         tx[i].setAttribute('style', 'height:' + (tx[i].scrollHeight) + 'px;overflow-y:hidden;');
          tx[i].addEventListener("input", OnInput, false);
         }
      
           function OnInput(e) {
           this.style.height = 'auto';
           this.style.height = (this.scrollHeight) + 'px';
          }
         for (var i = 0; i < tx.length; i++) {
          tx[i].setAttribute('style', 'height:' + '50' + 'px;overflow-y:hidden;');
          }
        
        document.getElementById('postfmini').addEventListener('click', async ()=>{
      console.log('clicked')
      var src
      var gif = document.getElementById('frontimg').src.search('tenor')
      var image = document.getElementById('frontimg').src.search('image')
      if(document.getElementById('fantatxtarea').value == ''){
          alert('Ops.... where is fantom?')
      }else{
          document.getElementById('post-spinner').style.display = 'block'
      }
      // if gif
      if(gif != -1 ){
           src = document.getElementById('frontimg').src
           const data = {
              media : src,
              body : document.getElementById('fantatxtarea').value,
              mood : document.getElementById('fmmood').innerText,
              catagory : RadioValueOf('fmini-catagory'),
              tags : tagInputsOf('tags'),
              settings : {
                  postAs : RadioValueOf('mode1'),
                  whoCanSee : RadioValueOf('mode')
              }
           };
           fetch('http://localhost:3000/fmini', {
              method: 'POST', // or 'PUT'
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(data),
            }).then(()=>window.location.href = 'http://localhost:3000/').catch(err => console.log(err))
      }else if(image != -1){ // same for image and video
          var url = document.getElementById('frontimg').src
          var media;
          await fetch(url).then(res => res.blob()).then(blob => media = blob)    
      
              let tokenRequest = await axios.request({
                  method: 'post',
                  url: "https://oauth2.googleapis.com/token",
                  headers: {"content-type": "application/x-www-form-urlencoded"},
                  params: {
                  client_id: '107645595769-al5lco2dmqo4k8da50skhh04v3reub4r.apps.googleusercontent.com',
                  client_secret: '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',
                  refresh_token: '1//049IAwoJc9-r_CgYIARAAGAQSNwF-L9IrXZiSfW2lHZQePB7-jUJ524N8-qDecYwLtwZ_uSH8GPBEWOL-AIAV3UYBCHzmhty3430',
                  grant_type: "refresh_token"
                      } 
                    }).catch(e => console.log(e))
                       let accessToken = tokenRequest.data["access_token"];
                
                       var metadata = {
                        'name': 'sampleName', // Filename at Google Drive
                        'mimeType': media.type, // mimeType at Google Drive
                          };
                      // var accessToken = gapi.auth.getToken().access_token; // Here gapi is used for retrieving the access token.
                     var form = new FormData();
                     form.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));
                     form.append('file', media);
                
                     fetch('https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id', {
                    method: 'POST',
                    headers: new Headers({ 'Authorization': 'Bearer ' + accessToken }),
                    body: form,
                      }).then((res) => {
                    return res.json();
                      }).then(function(val) {
                          var data = {
                              media : val.id,
                              body : document.getElementById('fantatxtarea').value,
                              mood : document.getElementById('fmmood').innerText,
                              settings : {
                                  postAs : RadioValueOf('mode1'),
                                  whoCanSee : RadioValueOf('mode')
                              }
                           };
                          fetch('http://localhost:3000/fmini', {
                          method: 'POST',
                          headers: {
                                 "Content-Type": "application/json",
                              },
                          body:  JSON.stringify(data)
                            }).then((resp)=>window.location.href = 'http://localhost:3000/').catch(e=> console.log(e))
                     });             
      }else if( gif == -1 && image == -1){
          const data = {
              body : document.getElementById('fantatxtarea').value,
              mood : document.getElementById('fmmood').innerText,
              catagory : RadioValueOf('fmini-catagory'),
              tags : tagInputsOf('tags'),
              settings : {
                  postAs : RadioValueOf('mode1'),
                  whoCanSee : RadioValueOf('mode')
              }
           };
           fetch('http://localhost:3000/fmini', {
              method: 'POST', // or 'PUT'
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(data),
            }).then(()=>window.location.href = 'http://localhost:3000/').catch(err => console.log(err))        
      }
           })
    </script>
  </body>
</html>